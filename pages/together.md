---
title: "参与协作"
permalink: "together"
comment: true
sidebar: "auto"
---

当遇到下面所列情况中其中之一时，请阅读本文相关部分：

- [准备工作](#准备工作)
- [文档改动](#文档改动)
- [文档变动](#文档变动)
- [文档展示](#文档展示)
- [功能与插件](#功能与插件)
- [静态资源](#静态资源)

## 准备工作

拉取最新的线上仓库，并且进入：

```sh
git clone https://github.com/TencentCloudBase/blog.git
cd blog
```

安装仓库相关依赖：

```sh
npm install
# yarn add
```

启动本地服务器查看效果：

```sh
npm run dev
```

## 文档改动

**此处“改动”指：仅修改文档内容，不修改文档名字，也不改变文档存储位置**。

由于错误或者新的内容更新，会遇到这种情况。修改对应文档的 markdown 文件内容后，在命令行执行：

```sh
npm run lint
```

如果不格式化文章，无法将变动添加到 git 版本库。格式化后，再执行 git 相关操作。

## 文档变动

**此处“变动”指：修改文档名字，或者改变文档位置，或者完全新建文档**。

如果是修改文档名字，或者改变文档位置，并且此文档链接存在于页面上方一级导航栏中 / 某系列左侧导航栏中，请注意同步更新`.vuepress/config/themeConf.js` / `.vuepress/config/sidebar.js` 中的对应字段。

如果是完全新建文档，通过拼接 url 可以访问文档对应页面。此时，如果你想给文档提供入口（例如：页首导航栏、某个系列左侧导航栏），那么需要在 `.vuepress/config/themeConf.js` / `.vuepress/config/sidebar.js` 新建字段。

## 文档展示

### 上方导航栏

如果想为页面上方导航栏添加新内容，请修改`.vuepress/config/themeConf.js`中的`nav`字段，此处字段最多支持 1 级子导航。

### 侧边导航栏

如果想为某个系列左侧导航栏添加新内容，请修改 `.vuepress/config/sidebar.js`中相应字段。考虑到文档数目众多，为了方便协作，变量名使用中文命名。

比如我们在`/开发指南/`下创建了新的文档：`开发简介.md`，那么配置代码如下：

```javascript
const 开发指南 = [
  // 第一个字段是 文档名称
  // 第二个字段是 标题名称
  // 会自动定位：/开发指南/开发简介.md
  ["开发简介", "开发简介"]
];

module.exports = {
  "/开发指南/": 开发指南
};
```

如果我们在`/开发指南/`下创建了一个子分类：`控制台简介`，那么配置代码如下：

```javascript
const 开发指南 = [
  {
    // 子分类的名称
    title: "控制台简介",
    children: [
      // 同理，这里的路径也会自动拼接
      // 含义与上个例子相同
      ["控制台简介/小程序云开发控制台", "小程序云开发控制台"],
      ["控制台简介/腾讯云云开发控制台", "腾讯云云开发控制台"]
    ]
  }
];

module.exports = {
  "/开发指南/": 开发指南
};
```

某些时候，我们会遇到一些特殊情况，比如文件夹嵌套层级太深。举个栗子，如下图所示：

![](https://i.loli.net/2019/07/08/5d230401df98489016.png)

假设配置代码如下所示：

```javascript
const 产品介绍 = [
  // ...
];

module.exports = {
  "/产品介绍/": 产品介绍
};
```

图中红框中的文档内容，**由于层级超过了 3 层**，是无法添加到左侧导航栏的。此时，不需要改变文档在文件目录中的组织逻辑，而是借助页首导航栏，对此目录进行拆分。**尽量避免这种情况发生**。

## 功能与插件

目前，所有功能均通过`vuepress`的插件机制来实现。这样做的好处有几个：

- 仓库是以文档为载体，内容输出是主要目的
- 目录干净整洁，所有功能均聚合到`.vuepress/`，协作者无需关心
- 快速拆卸，具体请见`.vuepress/plugins/`文件夹

## 静态资源

文档为了明晰说明，常常需要引入图片。**为保证仓库纯净，图片不存放在本仓库，请另行准备图床**。
