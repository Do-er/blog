---
title: "Web SDK 文件存储"
date: "2019-09-28"
permalink: "2019-09-28-JS-SDK-cos-gettempfileurl"
---

### `getTempFileURL(object)`
获取已上传至云开发的文件的访问链接，可自定义有效期，默认一天且最大不超过一天。一次最多取 50 个。

### 请求参数

| 字段 | 类型 | 必填 | 说明 |
| :--: | :--: | :--: | -- |
| `fileList` | `Array<string>` | 是   | 要下载的文件 ID 组成的数组。 |

`fileList`数组中的每一个元素是一个有如下字段的`object`：

| 字段 | 类型 | 必填 | 说明 |
| :--: | :--: | :--: | -- |
| `fileID` | `string`  | 是   | 文件 ID。        |
| `maxAge` | `number` | 是   | 文件链接有效期。 |

### 响应参数

| 字段 | 类型 | 必填 | 说明 |
| :--: | :--: | :--: | -- |
| `code` | `string` | 否   | 状态码，操作成功则为 `SUCCESS` |
| `message`   | `string` | 否   | 错误描述。|
| `fileList`  | `Array<object>` | 否   | 存储下载链接的数组。|
| `requestId` | `string` | 否   | 请求序列号，用于错误排查。     |

`fileList`数组中的每一个元素是一个有如下字段的`object`：

| 字段 | 类型 | 必填 | 说明 |
| :--: | :--: | :--: | -- |
| `code`        | `string` | 否   | 获取临时访问链接操作结果，成功为`SUCCESS` |
| `fileID`      | `string` | 是   | 文件 ID。                                  |
| `tempFileURL` | `string` | 是   | 文件访问链接。                             |

### 示例代码

```javascript
//promise
tcb.getTempFileURL({
  fileList: ["cloud://test-28farb/a.png"]
}).then(res => {});

//callback
tcb.getTempFileURL({
  fileList: ["cloud://test-28farb/a.png"]
},(err, res) => {});
```