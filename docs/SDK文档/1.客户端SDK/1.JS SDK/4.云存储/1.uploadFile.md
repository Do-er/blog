---
title: "Web SDK 文件存储"
date: "2019-09-28"
permalink: "2019-09-28-JS-SDK-cos-uploadfile"
---

### `uploadFile(object)`
上传文件至云开发存储服务器。

### 请求参数

| 字段| 类型 | 必填 | 说明   |
| :--: | :--: | :--: |--|
| `cloudPath`| `string`| 是 | 文件的绝对路径，包含文件名。例如 foo/bar.jpg、foo/bar/baz.jpg 等。[查看详情](https://cloud.tencent.com/document/product/436/13324) 。 |
| `filePath` | `string` | 是 | 要上传的文件对象。|
| `onUploadProgress` | `function` | 否 | 上传进度回调。|

### 响应参数

| 字段      | 类型   | 必填 | 说明 |
| :--: | :--: | :--: | -- |
| `code`      | `string` | 否   | 状态码，操作成功则不返回。                |
| `message`   | `string` | 否   | 错误描述。                                |
| `fileID`    | `string` | 是   | 文件唯一 ID，用来访问文件，建议存储起来。 |
| `requestId` | `string` | 否   | 请求序列号，用于错误排查。                |

### 示例代码

```javascript
//promise
tcb.uploadFile({
  cloudPath: "test-admin.jpeg",
  filePath: document.getElementById('file').files[0],
  onUploadProgress:function (progressEvent) {
    console.log(progressEvent)
    var percentCompleted = Math.round( (progressEvent.loaded * 100) / progressEvent.total );
  }
}).then(res => {});

//callback
tcb.uploadFile({
  cloudPath: "test-admin.jpeg",
  filePath: document.getElementById('file').files[0],
  onUploadProgress:function (progressEvent) {
    console.log(progressEvent)
    var percentCompleted = Math.round( (progressEvent.loaded * 100) / progressEvent.total );
  }
}, (err, res) => {});
```